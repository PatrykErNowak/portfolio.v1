@use '../abstracts/colors' as c;
@use '../abstracts/breakpoints' as b;
@use '../abstracts/variables' as v;

$btn-radious: 3px;
$btn-color: #eee;
$btn-font-weight: 700;
$btn-primary-bgc: c.$primary-color;

.btn {
  position: relative;
  z-index: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.75em;
  padding: 0.7em 1.2em;
  color: $btn-color;
  font-weight: $btn-font-weight;
  cursor: pointer;
  transition: 0.5s;

  .icon {
    width: 1.5em;
    aspect-ratio: 1/1;
    fill: currentColor;
  }

  &--primary {
    background-color: $btn-primary-bgc;
    border-radius: $btn-radious;

    &:before,
    &:after {
      box-sizing: inherit;
      content: '';
      position: absolute;
      z-index: -1;
    }

    &:before,
    &:after {
      border: 2px solid transparent;
      width: 0;
      height: 0;
    }
    // right & top border
    &:before {
      top: 0;
      left: 0;
    }
    // left & bottom border
    &:after {
      bottom: 0;
      right: 0;
    }
    &:hover {
      color: $btn-primary-bgc;
      background: transparent;

      &:before,
      &:after {
        width: 100%;
        height: 100%;
      }
      &:before {
        border-top-color: $btn-primary-bgc;
        border-right-color: $btn-primary-bgc;
        transition:
          width 0.25s ease-out,
          height 0.25s ease-out 0.25s; // wait for width
      }
      &:after {
        border-bottom-color: $btn-primary-bgc;
        border-left-color: $btn-primary-bgc;
        transition:
          border-color 0s ease-out 0.5s,
          // wait for :before
          width 0.25s ease-out 0.5s,
          height 0.25s ease-out 0.75s; // wait for width
      }
    }
  }
}
